(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d2aea3d"],{1148:function(e,n,t){"use strict";var r=t("a691"),i=t("1d80");e.exports="".repeat||function(e){var n=String(i(this)),t="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(t+=n);return t}},"38cf":function(e,n,t){var r=t("23e7"),i=t("1148");r({target:"String",proto:!0},{repeat:i})},"53ca":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));t("a4d3"),t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}},7039:function(e,n,t){var r=t("23e7"),i=t("d039"),o=t("057f").f,a=i((function(){return!Object.getOwnPropertyNames(1)}));r({target:"Object",stat:!0,forced:a},{getOwnPropertyNames:o})},"961b":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return o})),t.d(n,"e",(function(){return a})),t.d(n,"a",(function(){return c})),t.d(n,"c",(function(){return u}));t("99af"),t("4160"),t("13d5"),t("dca8"),t("7039"),t("d3b7"),t("25f0"),t("159b");var r=t("53ca");Object.prototype.toString;function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value";return e.reduce((function(e,r){return e[r[t]]=r[n],e}),{})}function o(e){console&&console.log&&console.log(e)}function a(e){var n;return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];void 0===n&&(n=new Promise((function(n){e.apply(void 0,[n].concat(i))}))),n.then(t)}}function c(e){var n=Object.getOwnPropertyNames(e);return n.forEach((function(n){var t=e[n];null!==t&&"object"===Object(r["a"])(t)&&c(t)})),Object.freeze(e)}function u(e,n){return Object.prototype.hasOwnProperty.call(e,n)}},"98df":function(e,n,t){"use strict";t.r(n);t("99af"),t("caad"),t("b0c0"),t("d3b7"),t("2532"),t("38cf"),t("fb6a"),t("a434");var r=t("b85c"),i=t("961b"),o=[{id:1,name:"渡边早季",gender:1,password:"123456",typ:{index:999},privilege:[1,2,3,5,11,123,999],desc:"来自新世界的女主"},{id:2,name:"朝比奈觉",gender:0,password:"qwerty",typ:{index:99},privilege:[1,2,3,5],desc:"来自新世界的男主"},{id:3,name:"秋月真理亚",gender:1,password:"123456",typ:{index:99},privilege:[1,2]},{id:4,name:"伊东守",gender:0,password:"wwwww",typ:{index:2},privilege:[0,1],desc:"~~~"},{id:5,name:"青沼瞬",gender:0,password:"1234567",typ:{index:1},privilege:[0],desc:"业魔化~"}],a=o.length+1,c={0:"男",1:"女"},u=[{value:0,label:"路人甲"},{value:1,label:"店小二"},{value:2,label:"收银员"},{value:99,label:"店掌柜"},{value:999,label:"管理员"}];function l(e){e(u)}var d=Object(i["b"])(u),f=[{id:1,name:"游客"},{id:2,name:"打杂"},{id:3,name:"跑堂"},{id:5,name:"财务"},{id:11,name:"店长"},{id:123,name:"客服"},{id:999,name:"关小黑屋"}];function s(e,n){var t,r=n.typ.index;switch(r){case 0:t=f.slice(0,1);break;case 1:t=f.slice(0,2);break;case 2:t=f.slice(0,4);break;case 99:t=f.slice(0,-2);break;case 999:t=f.slice(0);break;default:t=[]}e(t)}var p=["name","password","gender","typ","privilege","desc"];function m(e){e(p)}function g(e,n){n.id=a++,o.push(n),e()}function b(e,n){var t=JSON.parse(JSON.stringify(o)),r=["name","gender","typ","password"],i=t.length;e({data:t,fieldList:r,total:i})}var h=[["name"],["gender","typ"],["desc"]];function y(e,n){var t,i=+n.id,a=Object(r["a"])(o);try{for(a.s();!(t=a.n()).done;){var c=t.value;if(c.id===i)return void e({fieldLayoutList:h,record:JSON.parse(JSON.stringify(c))})}}catch(u){a.e(u)}finally{a.f()}}var v=["name","password","gender","typ","privilege","desc"];function w(e,n){var t,i=+n.id,a=Object(r["a"])(o);try{for(a.s();!(t=a.n()).done;){var c=t.value;if(c.id===i)return void e({editableFields:JSON.parse(JSON.stringify(v)),record:JSON.parse(JSON.stringify(c))})}}catch(u){a.e(u)}finally{a.f()}}function x(e,n){for(var t=0;t<o.length;t++)o[t].id===n.id&&(o[t]=n);e()}function O(e,n){var t=n.id;for(var r in o)o[r].id===t&&o.splice(r,1);e()}var C=Object(i["e"])(l);n["default"]=function(){return{fields:{name:{labelName:"用户名",editor:{name:"field_string2",component:function(){return t.e("chunk-6bb5d5c5").then(t.bind(null,"2dc6"))},config:{placeholder:"请输入用户名"},editConfig:{placeholder:"测试editconfig"},default:"3"},view:{handler:function(e,n){var t=this.$createElement;return t("div",[n.prefix," ",e])},config:{prefix:"用户名"}},validator:function(e,n){return[{validator:function(t,r,i){console.log(e,"---",r),"edit"===n&&0===e.gender&&"渡边早季"===r?i(new Error("早季是女孩子的名字")):r.length<2?(console.log("name called"),i(new Error("姓名最少两个字符"))):i()}}]}},password:{labelName:"密码",editor:{name:"EditorPwd",relates:[{relateField:["name"],handler:function(e){console.log(e),"lelouch"===e.name&&this.$emit("input","naive")},config:{immediate:!0}}],config:function(e,n,t){return"lelouch"===t.name||"渡边早季"===n.name?{disabled:!0}:{placeholder:"请输入密码"}},default:""},view:{component:function(){return t.e("chunk-d23b0c26").then(t.bind(null,"9ac0"))},config:{getLink:function(e){return"https://www.google.com/search?q=".concat(e)},getText:function(e){return"*".repeat(e.length)},tag:"span"}},validator:[{validator:function(e,n,t){n.length>15?t(new Error("密码位数最多为15位")):t()}},{validator:function(e,n,t){n.includes("???")?t(new Error("???")):t()}}],autoValidate:function(e){return"create"===e}},gender:{labelName:"性别",editor:{name:"EditorGender",default:0},view:{component:function(){return t.e("chunk-1e96e270").then(t.bind(null,"5690"))},config:{enums:c}},tip:function(e){return"暂不支持LGBT ".concat(e)},tableColumnConfig:{align:"center"},label:{default:{component:function(){return t.e("chunk-2d0daa66").then(t.bind(null,"6d02"))},exclude:["create"]},info:{handler:function(e,n){return"".concat(n.prefix).concat(e)},config:{prefix:"++"}}}},typ:{labelName:"类型",editor:{name:"EditorEnumAsyncSelect",config:{getCandidate:function(){return new Promise((function(e){C(e)}))},valuefield:"value",labelfield:"label",getModelValue:function(e){return e.index},setModelValue:function(e){return{index:e}}},default:function(){return{index:0}}},view:{component:function(){return t.e("chunk-1e96e270").then(t.bind(null,"5690"))},config:{enums:function(){return this.$store.state.test.typHash}},getViewValue:function(e){return e.index}}},privilege:{labelName:"权限",editor:{name:"EditorArrayRelatesCheckbox",relates:[{relateField:["typ"],propField:"relateData"}],config:{getCandidate:function(e){return new Promise((function(n){s(n,e)}))},labelfield:"name",valuefield:"id",isValidValue:function(e){return 0!==e.typ.index},getCacheKey:function(e,n){return"typ"===n?e.index:e}},default:function(){return[]}},colspan:{create:3,edit:3}},desc:{labelName:"备注",editor:{name:"EditorTextrich",default:"这是富文本编辑器蛤"},view:{component:function(){return t.e("chunk-2d0c42b4").then(t.bind(null,"3a4d"))}},colspan:{default:{label:1,field:3},create:3,edit:3,info:{label:2,field:2}}}},pages:{list:{collectionOperators:[{name:"CollectionOperatorCreate",component:function(){return Promise.all([t.e("chunk-725478c0"),t.e("chunk-83044d30"),t.e("chunk-7ae2168c")]).then(t.bind(null,"e933"))},config:{getCreateFields:function(){return new Promise((function(e){m(e)}))},doCreateRequest:function(e){return new Promise((function(n){g(n,e)}))},fieldLayout:function(e){return 0===e.gender?[["name","password"],["gender","typ"],["privilege"]]:[["name","password"],["gender","typ"],["privilege"],["desc"]]},effectLayoutFields:["gender"],triggerConfig:{text:"新建用户",type:"primary"},dialogConfig:{title:"新建用户"},confirmBtnConfig:{text:"确认创建",type:"success"},cancelBtnConfig:{text:"取消"}}}],filters:function(){return[{label:"姓名",field:"username",filterComponent:{name:"EditorString",config:{placeholder:"请输入用户姓名"},default:""},validator:[{validator:function(e,n,t){console.log("here"),"小管家"===n?t(new Error("不能搜索小管家")):t()}}],autoValidate:!1},{label:"类型",field:"typ",filterComponent:{name:"FilterEnumAsyncSelect",config:function(e,n){var t={getCandidate:function(){return new Promise((function(e){C(e)}))},allvalue:-1,alllabel:"全部",getModelValue:function(e){return e.index},setModelValue:function(e){return{index:e}}};return"lelouch"===n.username&&(t.disabled=!0),t},default:function(){return{index:-1}}}},{label:"权限",field:"privilege",filterComponent:{name:"FilterEnumRelatesSelect",config:{getCandidate:function(e){return new Promise((function(n){s(n,e)}))},getCacheKey:function(e,n){return"typ"===n?e.index:e},valuefield:"id",labelfield:"name",allvalue:"all",alllabel:"不限",handleInvalidValue:function(){this.$emit("input","all")}},default:"all"},relates:[{relateField:["typ"],propField:"relateData"}]},{label:"自定义filter",field:"test",filterComponent:{name:"test_custom_filter",config:{msg:"测试自定义filter"},component:function(){return t.e("chunk-2d216b0b").then(t.bind(null,"c415"))},default:"test"},watch:!0}]},filterOperators:[{name:"FilterOperatorReset",component:function(){return t.e("chunk-2d23843a").then(t.bind(null,"ff48"))}}],listConfig:{createdHook:function(){var e=this;setTimeout((function(){e.$store.commit("test/setTypHash",JSON.parse(JSON.stringify(d)))}),5e3)},listRequest:function(e){return new Promise((function(n){b(n,e)}))},sortableFields:{typ:!0},initialSortField:"name",initialSortOrder:"desc",paginationConfig:{layout:"total, sizes, prev, pager, next, jumper",pageSizes:[2,10,20,30,50]}},documentOperators:[{name:"DocumentOperatorInfo",component:function(){return t.e("chunk-54d93eda").then(t.bind(null,"7646"))},config:{getDetailInfo:function(e){return new Promise((function(n){y(n,e)}))},triggerConfig:{text:"查看详情",size:"small",type:"primary"},dialogConfig:{title:"用户详情"}}},{name:"DocumentOperatorEdit",component:function(){return Promise.all([t.e("chunk-725478c0"),t.e("chunk-83044d30"),t.e("chunk-daaecae0")]).then(t.bind(null,"26ad"))},config:{getEditInfo:function(e){return new Promise((function(n){w(n,e)}))},doEditRequest:function(e){return new Promise((function(n){x(n,e)}))},fieldLayout:[["name","password"],["gender","typ"],["privilege"],["desc"]],effectValidateFields:["name","password","gender"],autoValidate:!1,triggerConfig:{text:"编辑",size:"small",type:"primary"},dialogConfig:{title:"编辑用户"},confirmBtnConfig:{type:"primary",text:"确定编辑"},cancelBtnConfig:{text:"取消"},recordWatch:function(e){var n=this.$watch((function(){return{name:e.name,password:e.password}}),(function(n){"渡边早季"===n.name&&"123456"===n.password&&setTimeout((function(){e.desc="test recordWatch"}),1e3)}));return[n]}}},{handler:function(e){this.$router.push({path:"/crm/detail",query:{id:e.id}})},triggerConfig:{text:"详情页面",type:"warning",size:"small"}},{handler:function(e){this.$router.push({path:"/crm/edit",query:{id:e.id}})},triggerConfig:{text:"编辑页面",type:"warning",size:"small"}},{name:"DocumentOperatorDelete",component:function(){return t.e("chunk-4742a44e").then(t.bind(null,"8365"))},config:{doDeleteRequest:function(e){return new Promise((function(n){O(n,e)}))},triggerConfig:{text:"删除用户",type:"danger",size:"small"}}}]},info:{getDetailInfo:function(e){var n=this;return new Promise((function(e){y(e,n.$route.query)}))}},edit:{getEditInfo:function(){var e=this;return new Promise((function(n){w(n,e.$route.query)}))},doEditRequest:function(e){return new Promise((function(n){x(n,e)}))},fieldLayout:[["name","password"],["gender","typ"],["privilege"],["desc"]],effectValidateFields:["name","password","gender"],autoValidate:!1,recordWatch:function(e){var n=this.$watch((function(){return{name:e.name,password:e.password}}),(function(n){"渡边早季"===n.name&&"123456"===n.password&&setTimeout((function(){e.desc="test recordWatch"}),1e3)}));return[n]}}}}}},"99af":function(e,n,t){"use strict";var r=t("23e7"),i=t("d039"),o=t("e8b5"),a=t("861d"),c=t("7b0b"),u=t("50c4"),l=t("8418"),d=t("65f0"),f=t("1dde"),s=t("b622"),p=t("2d00"),m=s("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",h=p>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),y=f("concat"),v=function(e){if(!a(e))return!1;var n=e[m];return void 0!==n?!!n:o(e)},w=!h||!y;r({target:"Array",proto:!0,forced:w},{concat:function(e){var n,t,r,i,o,a=c(this),f=d(a,0),s=0;for(n=-1,r=arguments.length;n<r;n++)if(o=-1===n?a:arguments[n],v(o)){if(i=u(o.length),s+i>g)throw TypeError(b);for(t=0;t<i;t++,s++)t in o&&l(f,s,o[t])}else{if(s>=g)throw TypeError(b);l(f,s++,o)}return f.length=s,f}})},b85c:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));t("a4d3"),t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");var r=t("06c5");function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r["a"])(e))){var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,c=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==i["return"]||i["return"]()}finally{if(c)throw o}}}}},bb2f:function(e,n,t){var r=t("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},dca8:function(e,n,t){var r=t("23e7"),i=t("bb2f"),o=t("d039"),a=t("861d"),c=t("f183").onFreeze,u=Object.freeze,l=o((function(){u(1)}));r({target:"Object",stat:!0,forced:l,sham:!i},{freeze:function(e){return u&&a(e)?u(c(e)):e}})},f183:function(e,n,t){var r=t("d012"),i=t("861d"),o=t("5135"),a=t("9bf2").f,c=t("90e3"),u=t("bb2f"),l=c("meta"),d=0,f=Object.isExtensible||function(){return!0},s=function(e){a(e,l,{value:{objectID:"O"+ ++d,weakData:{}}})},p=function(e,n){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,l)){if(!f(e))return"F";if(!n)return"E";s(e)}return e[l].objectID},m=function(e,n){if(!o(e,l)){if(!f(e))return!0;if(!n)return!1;s(e)}return e[l].weakData},g=function(e){return u&&b.REQUIRED&&f(e)&&!o(e,l)&&s(e),e},b=e.exports={REQUIRED:!1,fastKey:p,getWeakData:m,onFreeze:g};r[l]=!0}}]);